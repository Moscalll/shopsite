<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${pageTitle}"></title>
</head>
<body>
    <h1 th:text="${pageTitle}">创建新商品</h1>
    
    <form th:action="@{/merchant/save}" th:object="${product}" method="post">
        
        <input type="hidden" th:field="*{id}" />

        <label for="name">商品名称:</label>
        <input type="text" id="name" th:field="*{name}" required><br/>

        <label for="description">描述:</label>
        <textarea id="description" th:field="*{description}"></textarea><br/>

        <label for="price">价格:</label>
        <input type="number" id="price" th:field="*{price}" step="0.01" required><br/>

        <label for="stock">库存:</label>
        <input type="number" id="stock" th:field="*{stock}" required><br/>

        <label for="imageUrl">主图URL:</label>
        <input type="text" id="imageUrl" th:field="*{imageUrl}"><br/>

        <label for="categoryId">选择类别:</label>
        <select id="categoryId" name="categoryId" required>
            <option 
                th:each="cat : ${categories}" 
                th:value="${cat.id}" 
                th:text="${cat.name}"
                th:selected="${product.category != null and product.category.id == cat.id}"
            ></option>
        </select><br/>
        
        <label for="isAvailable">是否上架:</label>
        <input type="checkbox" id="isAvailable" th:field="*{isAvailable}"><br/>

        <button type="submit">保存商品</button>
    </form>
    
    <p><a th:href="@{/merchant/dashboard}">返回商品列表</a></p>
</body>
</html>